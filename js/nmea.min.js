class Nmea{constructor(t){this.option=t,this.checkSource=function(t){return this.option?this.option:t},this.nmea={gpgga:{sentenceType:function(t){return"GPGGA"},time:function(t){let n=t[1],e=parseInt(n.substring(0,2),10),r=parseInt(n.substring(2,4),10),i=parseInt(n.substring(4,6),10);return{hours:e,minutes:r,seconds:i}},coordinates:function(t){if("$GPGGA"!==t[0]||t.length<14||"0"===t[6])return null;let n=parseFloat(t[2].slice(0,2))+parseFloat(t[2].slice(2))/60,e=parseFloat(t[4].slice(0,3))+parseFloat(t[4].slice(3))/60,r="N"===t[3]?1:-1,i="E"===t[5]?1:-1,u={latitude:n*r,latitudeDirection:t[3],longitude:e*i,longitudeDirection:t[5]};return u},fixType:function(t){if(!(t.length>=7))return"Error: Invalid sentence format";{let n=t[6];return n}},satellites:function(t){if(!(t.length>=9))return"Error: Invalid sentence format";{let n=t[7];return n}},hdop:function(t){if(!(t.length>=10))return"Error: Invalid sentence format";{let n=t[8];return n}},altitude:function(t){if(!(t.length>=11))return"Error: Invalid sentence format";{let n=t[9];return n}},altitudeUnits:function(t){if(!(t.length>=12))return"Error: Invalid sentence format";{let n=t[10];return n}},checksum:function(t){t=t.join(",");let n=0;for(let e=1;e<t.length&&"*"!==t[e];e++)n^=t.charCodeAt(e);let r=n.toString(16).toUpperCase().padStart(2,"0");return r}},gprmc:{sentenceType:function(t){return"GPRMC"},time:function(t){let n=t[9],e=t[1],r=parseInt(n.substring(0,2),10),i=parseInt(n.substring(2,4),10),u=parseInt(n.substring(4,6),10),o=parseInt(e.substring(0,2),10),s=parseInt(e.substring(2,4),10),c=parseInt(e.substring(4,6),10);return{year:u<70?2e3+u:1900+u,month:i,day:r,hours:o,minutes:s,seconds:c}},positionStatus:function(t){let n=t[2].toString();return n},coordinates:function(t){if("$GPRMC"!==t[0]||t.length<10||"A"!==t[2])return null;let n=parseFloat(t[3].slice(0,2))+parseFloat(t[3].slice(2))/60,e=parseFloat(t[5].slice(0,3))+parseFloat(t[5].slice(3))/60,r="N"===t[4]?1:-1,i="E"===t[6]?1:-1,u={latitude:n*r,latitudeDirection:t[4],longitude:e*i,longitudeDirection:t[6]};return u},speed:function(t){let n=parseFloat(t[7]);return n},heading:function(t){let n=parseFloat(t[8]);return n},date:function(t){let n=t[9].toString(),e=parseInt(n.substring(0,2),10),r=parseInt(n.substring(2,4),10)-1,i=2e3+parseInt(n.substring(4),10),u=new Date(i,r,e);return u},magneticVariation:function(t){let n=t[10].toString();return n},magneticVariationDirection:function(t){let n=t[11].toString();return n},checksum:function(t){t=t.join(",");let n=t.substring(1,t.indexOf("*")),e=0;for(let r=0;r<n.length;r++)e^=n.charCodeAt(r);let i=e.toString(16).toUpperCase();return 1===i.length?"0"+i:i}}}}getInfo(t,n){if(console.log(this.nmea),!(n=this.checkSource(n)))return"NMEA Sentence must be provided in constructor or as parameter";{let e=n.split(",");if(!n.startsWith("$")||!(e.length>=2))return"Invalid NMEA Sentence";{let r=e[0].substring(1).toLowerCase(),i=this.nmea[r][t](e);return i}}}}try{module.exports=exports=Nmea}catch(t){}